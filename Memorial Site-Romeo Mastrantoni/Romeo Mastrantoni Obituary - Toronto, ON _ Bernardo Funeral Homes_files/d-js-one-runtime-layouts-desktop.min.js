(function(){var a=Math,h=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",p="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,m="ontouchstart"in window,r=h+"Transform"in document.documentElement.style,f=/android/gi.test(navigator.appVersion),c=/iphone|ipad/gi.test(navigator.appVersion),d=/playbook/gi.test(navigator.appVersion),k=c||d,l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||
window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),t=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,n="onorientationchange"in window?"orientationchange":"resize",x=m?"touchstart":"mousedown",u=m?"touchmove":"mousemove",e=m?"touchend":"mouseup",y=m?"touchcancel":"mouseup",q="Moz"==h?"DOMMouseScroll":
"mousewheel",v="translate"+(p?"3d(":"("),w=p?",0)":")";d=function(a,g){var b=this,e=document,d;b.wrapper="object"==typeof a?a:e.getElementById(a);b.wrapper.style.overflow="hidden";b.scroller=b.wrapper.children[0];b.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:f,hideScrollbar:c,fadeScrollbar:c&&p,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,
wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(d in g)b.options[d]=g[d];b.options.useTransform=r?b.options.useTransform:!1;b.options.hScrollbar=b.options.hScroll&&b.options.hScrollbar;b.options.vScrollbar=b.options.vScroll&&b.options.vScrollbar;b.options.zoom=
b.options.useTransform&&b.options.zoom;b.options.useTransition=k&&b.options.useTransition;b.scroller.style[h+"TransitionProperty"]=b.options.useTransform?"-"+h.toLowerCase()+"-transform":"top left";b.scroller.style[h+"TransitionDuration"]="0";b.scroller.style[h+"TransformOrigin"]="0 0";b.options.useTransition&&(b.scroller.style[h+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");b.options.useTransform?b.scroller.style[h+"Transform"]=v+"0,0"+w:b.scroller.style.cssText+=";position:relative;top:0;left:0";
b.options.useTransition&&(b.options.fixedScrollbar=!0);b.refresh();b._bind(n,window);b._bind(x);m||(b._bind("mouseout",b.wrapper),b._bind(q));b.options.checkDOMChanges&&(b.checkDOMTime=setInterval(function(){b._checkDOMChanges()},500))};d.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(a){switch(a.type){case x:if(!m&&0!==a.button)break;this._start(a);break;case u:this._move(a);break;case e:case y:this._end(a);
break;case n:this._resize();break;case q:this._wheel(a);break;case "mouseout":this._mouseout(a);break;case "webkitTransitionEnd":this._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(b){var g=document;if(this[b+"Scrollbar"]){if(!this[b+"ScrollbarWrapper"]){var e=g.createElement("div");this.options.scrollbarClass?e.className=
this.options.scrollbarClass+b.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==b?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px");e.style.cssText+=";pointer-events:none;-"+h+"-transition-property:opacity;-"+h+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1");this.wrapper.appendChild(e);this[b+"ScrollbarWrapper"]=
e;e=g.createElement("div");this.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+h+"-background-clip:padding-box;-"+h+"-box-sizing:border-box;"+("h"==b?"height:100%":"width:100%")+";-"+h+"-border-radius:3px;border-radius:3px");e.style.cssText+=";pointer-events:none;-"+h+"-transition-property:-"+h+"-transform;-"+h+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+h+"-transition-duration:0;-"+h+
"-transform:"+v+"0,0"+w;this.options.useTransition&&(e.style.cssText+=";-"+h+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");this[b+"ScrollbarWrapper"].appendChild(e);this[b+"ScrollbarIndicator"]=e}"h"==b?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=a.max(a.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,
this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=a.max(a.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY);this._scrollbarPos(b,!0)}else this[b+"ScrollbarWrapper"]&&(r&&(this[b+"ScrollbarIndicator"].style[h+
"Transform"]=""),this[b+"ScrollbarWrapper"].parentNode.removeChild(this[b+"ScrollbarWrapper"]),this[b+"ScrollbarWrapper"]=null,this[b+"ScrollbarIndicator"]=null)},_resize:function(){var a=this;setTimeout(function(){a.refresh()},f?200:0)},_pos:function(b,g){b=this.hScroll?b:0;g=this.vScroll?g:0;this.options.useTransform?this.scroller.style[h+"Transform"]=v+b+"px,"+g+"px"+w+" scale("+this.scale+")":(b=a.round(b),g=a.round(g),this.scroller.style.left=b+"px",this.scroller.style.top=g+"px");this.x=b;this.y=
g;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(b,g){var e="h"==b?this.x:this.y;this[b+"Scrollbar"]&&(e*=this[b+"ScrollbarProp"],0>e?(this.options.fixedScrollbar||(e=this[b+"ScrollbarIndicatorSize"]+a.round(3*e),8>e&&(e=8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=e+"px"),e=0):e>this[b+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?e=this[b+"ScrollbarMaxScroll"]:(e=this[b+"ScrollbarIndicatorSize"]-a.round(3*(e-this[b+"ScrollbarMaxScroll"])),8>e&&(e=
8),this[b+"ScrollbarIndicator"].style["h"==b?"width":"height"]=e+"px",e=this[b+"ScrollbarMaxScroll"]+(this[b+"ScrollbarIndicatorSize"]-e))),this[b+"ScrollbarWrapper"].style[h+"TransitionDelay"]="0",this[b+"ScrollbarWrapper"].style.opacity=g&&this.options.hideScrollbar?"0":"1",this[b+"ScrollbarIndicator"].style[h+"Transform"]=v+("h"==b?e+"px,0":"0,"+e+"px")+w)},_start:function(b){var g=m?b.touches[0]:b;if(this.enabled){this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,b);
(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.zoom&&m&&1<b.touches.length){var c=a.abs(b.touches[0].pageX-b.touches[1].pageX);var d=a.abs(b.touches[0].pageY-b.touches[1].pageY);this.touchesDistStart=a.sqrt(c*c+d*d);this.originX=a.abs(b.touches[0].pageX+b.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x;this.originY=a.abs(b.touches[0].pageY+
b.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y;this.options.onZoomStart&&this.options.onZoomStart.call(this,b)}this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[h+"Transform"].replace(/[^0-9-.,]/g,"").split(","),c=1*d[4],d=1*d[5]):(c=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),d=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),c!=this.x||d!=this.y)&&(this.options.useTransition?this._unbind("webkitTransitionEnd"):
t(this.aniTime),this.steps=[],this._pos(c,d));this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=g.pageX;this.pointY=g.pageY;this.startTime=b.timeStamp||Date.now();this.options.onScrollStart&&this.options.onScrollStart.call(this,b);this._bind(u);this._bind(e);this._bind(y)}},_move:function(b){var g=m?b.touches[0]:b,e=g.pageX-this.pointX,c=g.pageY-this.pointY,d=this.x+e,l=this.y+c,f=b.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,
b);if(this.options.zoom&&m&&1<b.touches.length)d=a.abs(b.touches[0].pageX-b.touches[1].pageX),l=a.abs(b.touches[0].pageY-b.touches[1].pageY),this.touchesDist=a.sqrt(d*d+l*l),this.zoomed=!0,g=1/this.touchesDistStart*this.touchesDist*this.scale,g<this.options.zoomMin?g=.5*this.options.zoomMin*Math.pow(2,g/this.options.zoomMin):g>this.options.zoomMax&&(g=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/g)),this.lastScale=g/this.scale,d=this.originX-this.originX*this.lastScale+this.x,l=this.originY-
this.originY*this.lastScale+this.y,this.scroller.style[h+"Transform"]=v+d+"px,"+l+"px"+w+" scale("+g+")",this.options.onZoom&&this.options.onZoom.call(this,b);else{this.pointX=g.pageX;this.pointY=g.pageY;if(0<d||d<this.maxScrollX)d=this.options.bounce?this.x+e/2:0<=d||0<=this.maxScrollX?0:this.maxScrollX;if(l>this.minScrollY||l<this.maxScrollY)l=this.options.bounce?this.y+c/2:l>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY;6>this.absDistX&&6>this.absDistY?(this.distX+=e,this.distY+=
c,this.absDistX=a.abs(this.distX),this.absDistY=a.abs(this.distY)):(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(l=this.y,c=0):this.absDistY>this.absDistX+5&&(d=this.x,e=0)),this.moved=!0,this._pos(d,l),this.dirX=0<e?-1:0>e?1:0,this.dirY=0<c?-1:0>c?1:0,300<f-this.startTime&&(this.startTime=f,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,b),$.DM.onIscrollScrolls(b))}},_end:function(b){if(!m||0==b.touches.length){var g=this,c=m?
b.changedTouches[0]:b,d,l,f={dist:0,time:0},k={dist:0,time:0},n=(b.timeStamp||Date.now())-g.startTime,q=g.x,t=g.y;g._unbind(u);g._unbind(e);g._unbind(y);g.options.onBeforeScrollEnd&&g.options.onBeforeScrollEnd.call(g,b);if(g.zoomed)q=g.scale*g.lastScale,q=Math.max(g.options.zoomMin,q),q=Math.min(g.options.zoomMax,q),g.lastScale=q/g.scale,g.scale=q,g.x=g.originX-g.originX*g.lastScale+g.x,g.y=g.originY-g.originY*g.lastScale+g.y,g.scroller.style[h+"TransitionDuration"]="200ms",g.scroller.style[h+"Transform"]=
v+g.x+"px,"+g.y+"px"+w+" scale("+g.scale+")",g.zoomed=!1,g.refresh(),g.options.onZoomEnd&&g.options.onZoomEnd.call(g,b);else{if(g.moved){if(300>n&&g.options.momentum){f=q?g._momentum(q-g.startX,n,-g.x,g.scrollerW-g.wrapperW+g.x,g.options.bounce?g.wrapperW:0):f;k=t?g._momentum(t-g.startY,n,-g.y,0>g.maxScrollY?g.scrollerH-g.wrapperH+g.y-g.minScrollY:0,g.options.bounce?g.wrapperH:0):k;q=g.x+f.dist;t=g.y+k.dist;if(0<g.x&&0<q||g.x<g.maxScrollX&&q<g.maxScrollX)f={dist:0,time:0};if(g.y>g.minScrollY&&t>g.minScrollY||
g.y<g.maxScrollY&&t<g.maxScrollY)k={dist:0,time:0}}f.dist||k.dist?(f=a.max(a.max(f.time,k.time),10),g.options.snap&&(k=q-g.absStartX,n=t-g.absStartY,a.abs(k)<g.options.snapThreshold&&a.abs(n)<g.options.snapThreshold?g.scrollTo(g.absStartX,g.absStartY,200):(k=g._snap(q,t),q=k.x,t=k.y,f=a.max(k.time,f))),g.scrollTo(a.round(q),a.round(t),f)):g.options.snap?(k=q-g.absStartX,n=t-g.absStartY,a.abs(k)<g.options.snapThreshold&&a.abs(n)<g.options.snapThreshold?g.scrollTo(g.absStartX,g.absStartY,200):(k=g._snap(g.x,
g.y),k.x==g.x&&k.y==g.y||g.scrollTo(k.x,k.y,k.time))):g._resetPos(200)}else m&&(g.doubleTapTimer&&g.options.zoom?(clearTimeout(g.doubleTapTimer),g.doubleTapTimer=null,g.options.onZoomStart&&g.options.onZoomStart.call(g,b),g.zoom(g.pointX,g.pointY,1==g.scale?g.options.doubleTapZoom:1),g.options.onZoomEnd&&setTimeout(function(){g.options.onZoomEnd.call(g,b)},200)):g.doubleTapTimer=setTimeout(function(){g.doubleTapTimer=null;for(d=c.target;1!=d.nodeType;)d=d.parentNode;"SELECT"!=d.tagName&&"INPUT"!=
d.tagName&&"TEXTAREA"!=d.tagName&&(l=document.createEvent("MouseEvents"),l.initMouseEvent("click",!0,!0,b.view,1,c.screenX,c.screenY,c.clientX,c.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null),l._fake=!0,d.dispatchEvent(l))},g.options.zoom?250:0)),g._resetPos(200);g.options.onTouchEnd&&g.options.onTouchEnd.call(g,b)}}},_resetPos:function(a){var b=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,e=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:
this.y;b==this.x&&e==this.y?(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==h&&(this.hScrollbarWrapper.style[h+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar&&("webkit"==h&&(this.vScrollbarWrapper.style[h+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity="0")):this.scrollTo(b,e,a||0)},_wheel:function(a){if($.DM.isUseLayout()&&
"none"==this.options.wheelAction||0<this.maxScrollY||parseInt(a.currentTarget.style.height)<this.wrapperH)return!1;var b=this;if("wheelDeltaX"in a){var e=a.wheelDeltaX/12;var c=a.wheelDeltaY/2}else"wheelDelta"in a?e=c=a.wheelDelta:"detail"in a&&(2===a.axis?(c=10*-a.detail,e=0):(e=3*-a.detail,c=0));"zoom"==b.options.wheelAction?(c=b.scale*Math.pow(2,1/3*(c?c/Math.abs(c):0)),c<b.options.zoomMin&&(c=b.options.zoomMin),c>b.options.zoomMax&&(c=b.options.zoomMax),c!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&
b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,c,400),setTimeout(function(){b.wheelZoomCount--;!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))):(window.editorParent.$&&window.editorParent.$.deselectAllEditableElements&&null!=window.editorParent.NEFW&&null!=window.editorParent.$.dmfw.setPreviewEditPolicy&&0==window.editorParent.$.dmfw.getPreviewElement(".dmLocked").length&&window.editorParent.$.deselectAllEditableElements(),$.DM.onIscrollScrolls(a),
e=b.x+e,c=b.y+c,0<e?e=0:e<b.maxScrollX&&(e=b.maxScrollX),c>b.minScrollY?c=b.minScrollY:c<b.maxScrollY&&(c=b.maxScrollY),b.scrollTo(e,c,0),a.stopPropagation(),a.preventDefault())},_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var b=this,g=b.x,e=b.y,c=Date.now(),d;if(!b.animating)if(b.steps.length){var f=b.steps.shift();
f.x==g&&f.y==e&&(f.time=0);b.animating=!0;b.moved=!0;b.options.useTransition?(b._transitionTime(f.time),b._pos(f.x,f.y),b.animating=!1,f.time?b._bind("webkitTransitionEnd"):b._resetPos(0)):function z(){var k=Date.now();k>=c+f.time?(b._pos(f.x,f.y),b.animating=!1,b.options.onAnimationEnd&&b.options.onAnimationEnd.call(b),b._startAni()):(k=(k-c)/f.time-1,d=a.sqrt(1-k*k),k=(f.x-g)*d+g,b._pos(k,(f.y-e)*d+e),b.animating&&(b.aniTime=l(z)))}()}else b._resetPos(400)},_transitionTime:function(a){a+="ms";this.scroller.style[h+
"TransitionDuration"]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[h+"TransitionDuration"]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[h+"TransitionDuration"]=a)},_momentum:function(b,g,e,c,d){g=a.abs(b)/g;var f=g*g/.0012;0<b&&f>e?(e+=d/(6/(f/g*6E-4)),g=g*e/f,f=e):0>b&&f>c&&(c+=d/(6/(f/g*6E-4)),g=g*c/f,f=c);return{dist:f*(0>b?-1:1),time:a.round(g/6E-4)}},_offset:function(a){for(var b=-a.offsetLeft,e=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,e-=a.offsetTop;a!=this.wrapper&&(b*=this.scale,
e*=this.scale);return{left:b,top:e}},_snap:function(b,g){var e;var c=this.pagesX.length-1;var d=0;for(e=this.pagesX.length;d<e;d++)if(b>=this.pagesX[d]){c=d;break}c==this.currPageX&&0<c&&0>this.dirX&&c--;b=this.pagesX[c];e=(e=a.abs(b-this.pagesX[this.currPageX]))?a.abs(this.x-b)/e*500:0;this.currPageX=c;c=this.pagesY.length-1;for(d=0;d<c;d++)if(g>=this.pagesY[d]){c=d;break}c==this.currPageY&&0<c&&0>this.dirY&&c--;g=this.pagesY[c];d=(d=a.abs(g-this.pagesY[this.currPageY]))?a.abs(this.y-g)/d*500:0;
this.currPageY=c;c=a.round(a.max(e,d))||200;return{x:b,y:g,time:c}},_bind:function(a,g,e){(g||this.scroller).addEventListener(a,this,!!e)},_unbind:function(a,g,e){(g||this.scroller).removeEventListener(a,this,!!e)},destroy:function(){this.scroller.style[h+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(n,window);this._unbind(x);this._unbind(u);this._unbind(e);this._unbind(y);this.options.hasTouch&&(this._unbind("mouseout",this.wrapper),this._unbind(q));
this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var b=0;var g=0;this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin);this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||0;this.scrollerW=a.round(this.scroller.offsetWidth*this.scale);this.scrollerH=a.round((this.scroller.offsetHeight+
this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&0>this.maxScrollX;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;
var e=this._offset(this.wrapper);this.wrapperOffsetLeft=-e.left;this.wrapperOffsetTop=-e.top;if("string"==typeof this.options.snap){this.pagesX=[];this.pagesY=[];var c=this.scroller.querySelectorAll(this.options.snap);e=0;for(g=c.length;e<g;e++)b=this._offset(c[e]),b.left+=this.wrapperOffsetLeft,b.top+=this.wrapperOffsetTop,this.pagesX[e]=b.left<this.maxScrollX?this.maxScrollX:b.left*this.scale,this.pagesY[e]=b.top<this.maxScrollY?this.maxScrollY:b.top*this.scale}else if(this.options.snap){for(this.pagesX=
[];b>=this.maxScrollX;)this.pagesX[g]=b,b-=this.wrapperW,g++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);g=b=0;for(this.pagesY=[];b>=this.maxScrollY;)this.pagesY[g]=b,b-=this.wrapperH,g++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[h+
"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(a,g,e,c){var b=a;this.stop();b.length||(b=[{x:a,y:g,time:e,relative:c}]);a=0;for(g=b.length;a<g;a++)b[a].relative&&(b[a].x=this.x-b[a].x,b[a].y=this.y-b[a].y),this.steps.push({x:b[a].x,y:b[a].y,time:b[a].time||0});this._startAni()},getScrollY:function(){return this.y},getScrollX:function(){return this.x},scrollToElement:function(b,e){if(b=b.nodeType?b:this.scroller.querySelector(b))b=this._offset(b),b.left+=this.wrapperOffsetLeft,b.top+=
this.wrapperOffsetTop,b.left=0<b.left?0:b.left<this.maxScrollX?this.maxScrollX:b.left,b.top=b.top>this.minScrollY?this.minScrollY:b.top<this.maxScrollY?this.maxScrollY:b.top,e=void 0===e?a.max(2*a.abs(b.left),2*a.abs(b.top)):e,this.scrollTo(b.left,b.top+36,e)},scrollToPage:function(a,e,c){this.options.onScrollStart&&this.options.onScrollStart.call(this);this.options.snap?(a="next"==a?this.currPageX+1:"prev"==a?this.currPageX-1:a,e="next"==e?this.currPageY+1:"prev"==e?this.currPageY-1:e,a=0>a?0:a>
this.pagesX.length-1?this.pagesX.length-1:a,e=0>e?0:e>this.pagesY.length-1?this.pagesY.length-1:e,this.currPageX=a,this.currPageY=e,a=this.pagesX[a],e=this.pagesY[e]):(a*=-this.wrapperW,e*=-this.wrapperH,a<this.maxScrollX&&(a=this.maxScrollX),e<this.maxScrollY&&(e=this.maxScrollY));this.scrollTo(a,e,c||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(u);this._unbind(e);this._unbind(y)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?
this._unbind("webkitTransitionEnd"):t(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(a,e,c,d){var b=c/this.scale;this.options.useTransform&&(this.zoomed=!0,d=void 0===d?200:d,a=a-this.wrapperOffsetLeft-this.x,e=e-this.wrapperOffsetTop-this.y,this.x=a-a*b+this.x,this.y=e-e*b+this.y,this.scale=c,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[h+
"TransitionDuration"]=d+"ms",this.scroller.style[h+"Transform"]=v+this.x+"px,"+this.y+"px"+w+" scale("+c+")",this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};"undefined"!==typeof exports?exports.iScroll=d:window.iScroll=d})();(function(a){function h(c){return(c=a(c).attr("href"))?0===c.indexOf("http://"):!1}function p(){a.extend(a.layoutDevice.components,a.extend({},a.commonComponents,a.layoutDevice.components));for(var c in a.layoutDevice.components){var d=a.layoutDevice.components[c].selector;d||(d="#",a.layoutDevice.components[c].getByClass&&(d="."),d+=c);0==a(d).length?a.layoutDevice.components[c]=null:a.layoutDevice.components[c].element=a(d)}}function m(a){return 0==a?function(a){return!a.hasClass("dmSub")}:function(c){return c.hasClass("dmSub"+
(2==a?"2":""))}}function r(){var a=document.body.classList;/trident|msie/i.test(navigator.userAgent)&&!a.contains("msie")&&a.add("msie")}var f={_is_touch_device:a.DM.testTouch(),_layoutDomReady:!1,_isEditorMode:!1,_isEDMode:!1,_variationClassPrefix:"-var",_widgetClassPrefix:"widgetStyle-",_NEW_PAGES_PREFIX:"dmwlp://",_NEW_PAGE_LOC:"http://bfs._dudamobile.com",_layoutParams:{_navigationAnimationStyle:"slide"}};a.extend(f._layoutParams,Parameters.LayoutParams);a.extend({layoutManager:f});a(document).ready(function(){r();
a.layoutManager._isEditorMode=!!a.DM.getQueryParam(window.location.href,"nee");a.layoutManager._isEDMode=!!a.DM.getQueryParam(window.location.href,"ed");a.layoutManager._isEditorMode&&"DESKTOP"===a.layoutDevice.type.toUpperCase()&&a.layoutDevice.addParallaxBehavior();0<a("#dm").find("[data-background-parallax-selector]").length&&!a.browser.msie&&"DESKTOP"==a.layoutDevice.type.toUpperCase()||a.layoutManager._isEditorMode&&"undefined"!=typeof window.parent.window.DF&&window.parent.window.DF.parallaxPromise.resolve();
p();-1==navigator.userAgent.indexOf("Mac OS X")&&a("body").addClass("pcCustomScrollbar");var c=a("body");a.layoutManager._isEditorMode&&(c.addClass("bodyInsideNee"),c.toggleClass("bodyInsidePT","PT"===getSafe("editorParent.dm_current_editor")),c.addClass("bodyInsideD1"));c.addClass("d1SiteBody");20>Parameters.ThemeVersion&&c.addClass("bodyInsideDudaone");a.layoutManager._isEditorMode&&!a.layoutManager._isEDMode||a.layoutManager.initLayout();a.layoutManager.initNavigation();"MOBILE"!==a.layoutDevice.type.toUpperCase()||
a.layoutManager._isEditorMode||8!==f.getCurrentLayout()||document.addEventListener("focusout",function(a){document.body.scrollTop=0;document.scrollingElement&&(document.scrollingElement.scrollTop=0)});a.layoutDevice.components.iscrollBody&&a.layoutDevice.components.iscrollBody.isUseIscroll&&!a.layoutManager._isEditorMode?(c.addClass("dmBodyUseIscroll"),c.removeClass("dmBodyNoIscroll")):(c.addClass("dmBodyNoIscroll"),c.removeClass("dmBodyUseIscroll"));"runtime"in window&&runtime.initLayout({instanceSettings:{containerId:"dm-outer-wrapper"}}).then(function(){a.layoutManager._layoutDomReady=
!0}).catch(function(a){console.error(a)});"runtime"in window&&runtime.initAnchorsApp().then(function(){a.layoutManager._anchorsMarkersReady=!0}).catch(function(a){console.error(a)})});a(window).load(function(){f.updateContainerMinimumHeight();window===window.parent&&window.document.documentElement.classList.remove("ios-preview")});a(window).resize(function(){f.refreshIscroll()});f.detectUserAgent=function(){var a=navigator.userAgent;return a.match(/(iPhone|iPod)/)&&a.match(/CriOS/)?"iPhone-chrome":
a.match(/(iPhone|iPod|iPad)/)?"iPhone":a.match(/Android/)?"android":a.match(/BlackBerry/)?"blackberry":a.match(/Windows Phone/i)||a.match(/iEMobile/i)?"windowsmobile":""};f.initLayout=function(){a.layoutDevice.onReady(a.layoutManager._isEditorMode);a.layoutDevice.onLoad(a.layoutManager._isEditorMode)};f.refreshIscroll=function(c){null==c&&a.layoutDevice&&(c=a.layoutDevice.components.iscrollBody);c&&c.iscrollObject&&c.iscrollObject.refresh()};f.reinitIscroll=function(c){null==c&&(c=a.layoutDevice.components.iscrollBody);
c&&c.iscrollObject&&c.refresh()};f.getLayoutElement=function(){return a.layoutDevice.components};f.isNee=function(){return a.layoutManager._isEditorMode};f.setCurrentVariation=function(c,d,f){f=f||"mobile";for(var l=a(".dm_wrapper"),k=l.attr("class").split(" "),n="",h="",u=0;u<k.length;u++){var e=k[u];-1!=e.indexOf(a.layoutManager._variationClassPrefix)&&(n=e,h=e.substr(0,e.indexOf(a.layoutManager._variationClassPrefix))+a.layoutManager._variationClassPrefix+c);d&&-1!=e.indexOf(a.layoutManager._widgetClassPrefix)&&
l.removeClass(e)}l.removeClass(n);l.addClass(h);l.addClass(d?d[h]:"");Parameters.LayoutVariationID[f]=c;a.DM.restoreDefaultNavigationStyles();a.DM.initNavbar(!0);a.layoutDevice.components.dmNav.cssCalculations()};f.getCurrentVariation=function(a){return Parameters.LayoutVariationID[a||"mobile"]};f.setCurrentLayout=function(a,d){Parameters.LayoutID[d||"mobile"]=a};f.getCurrentLayout=function(a){return Parameters.LayoutID[a||"mobile"]};f.setCurrentWidgetStyleID=function(a){Parameters.WidgetStyleID=
a};f.getCurrentWidgetStyleID=function(){return Parameters.WidgetStyleID};f.cssCalculations=function(){a.layoutDevice.components.dmNav.cssCalculations()};f.afterDropPositionFoundHook=function(){};f.isLayoutDomReady=function(){return a.layoutManager._layoutDomReady};f.afterInitNav=function(){a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};f.isMobileBrowser=function(){var a=navigator.userAgent||navigator.vendor||window.opera,d=!1;if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,
4)))d=!0;return d};f.isWebkitMobileBrowser=function(){var c={},d=a.uaMatch(navigator.userAgent);c[d.browser]=!0;c.version=d.version;d=!1;if(c.chrome||c.webkit||c.safari)d=!0;"blackberry"==f.detectUserAgent()&&(d=!1);return d};f.isSafariMobileBrowser=function(){return-1<navigator.userAgent.toLowerCase().indexOf("version/")};f._is_touch_device=f._is_touch_device&&"blackberry"!=f.detectUserAgent();f.hideAllSubItems=function(){a.layoutDevice.components.slideDownNav?a.layoutDevice.components.slideDownNav.refresh():
a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};f.openAppropriateSub=function(){var c=window.location.hash.slice(1),d=a.DM.getPageUrlByPageId(c),f,l;a(".dmNavigation li:not(.listBtnHidden) a").each(function(){var k=a(this),n=unescape(a.DM.getQueryParam(k.attr("href"),"url")||k.attr("href"));f=document.createElement("a");f.href=n;l="#"==n?"#":f.pathname;if(null!=n&&null!=
d&&(n===d&&("/"!==l||f.search)||a.dmrt.isEditorMode&&"MOBILE"===Parameters.SiteType&&n===Parameters.CurrentPageUrl||l===d||("http://dmbfs"===d||d===Parameters.CurrentPageUrl)&&l===window.location.pathname&&(a.dmrt.isEditorMode||"/"!==l||"/"===l&&Parameters.IsCurrentHomePage))&&(!a.dmrt.isEditorMode||!n.match(/(http(s?):\/\/){1}[^\/]+(\/?)$/g))||a.dmrt.isEditorMode&&""!=c&&a(this).attr("raw_url")&&a.DM.getPageFromCache(c).pageContent.alias==a(this).attr("raw_url").split("/").pop()||(null==d||"null"==
d||d.startsWith(a.layoutManager._NEW_PAGES_PREFIX)||d==a.layoutManager._NEW_PAGE_LOC)&&a(this).is(".dmNavItemSelected\x3ea")){var h=k.parent();if(h.hasClass("hasdmSub"))a.layoutManager.showSpecificSubs(a(this).parent());else if(h.hasClass("dmSub")){for(n=m(h.hasClass("dmSub2")?1:0);!h.hasClass("hasdmSub")||!n(h);)h=h.prev();a.layoutManager.showSpecificSubs(h)}k.parents(".dmNavigation").find("a").removeClass("currentPage");k.addClass("currentPage");return!1}});a.layoutDevice.components.dmNav&&a.layoutDevice.components.dmNav.cssCalculations()};
f.getCurrentNavigationItemSelected=function(c,d){c||(c=a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink"),d=!0);var f=null,l=a.DM.getCurrentPageUrl(),h;l&&(h=l.replace("\x26preview\x3dtrue","").replace("\x26dm_try_mode\x3dtrue",""));var n=location.hash,m=n?n.substring(1):null;c.find("a").each(function(){var c=a(this).data("target-page-alias")||a(this).attr("href");c&&-1!=c.indexOf("?url\x3d")&&(c=unescape(a.DM.getQueryParam(a(this).attr("href"),"url")));if("#"!==c&&(c&&(-1<c.indexOf("?")&&(c=
c.substr(0,c.indexOf("?"))),0==c.indexOf("/site/")?c=c.split(c.split("/")[2]+"/")[1]:0==c.indexOf("/")&&(c=c.substr(1,c.length)),-1<c.indexOf("#")&&!(-1<c.indexOf("#!"))&&(c=c.split("#")[0]),""===c&&(c="home")),null!=c&&null!=l&&(c===l||c===h))){var e=c=null,k=a(this).attr("href").split("#");1<k.length&&!k[1].startsWith("!")&&(c="#"+k[1],e=k[1]);if((c||n)&&c!=n)try{if(a("#"+m+"[data-anchor]").length||a("#"+e+"[data-anchor]").length)return}catch(q){}null==f?f=a(this):d&&(f=f.add(a(this)))}});return f};
f.markCurrentSelectedNavigation=function(c){if(!window.exportsite){var d=a(".dmNavWrapper, .dmNavigation, .dmNavigationWithLink, .unifiednav__container");d.find("li").removeClass("dmNavItemSelected").end().find("a").removeClass("currentPage");d.each(function(){var d=a(this);if(c&&d.data("cachedElement"))var f=d.data("cachedElement");else(f=a.layoutManager.getCurrentNavigationItemSelected(d))&&f.length&&(f=f.eq(0));if(!d.find(".dmNavItemSelected").hasClass("dmNavKeepSelected")){var h=d.find(".navItemSelectedServer");
0<h.size()?(d.find("li").removeClass("dmNavItemSelected"),d.find("a").removeClass("currentPage"),h.removeClass("navItemSelectedServer"),h.addClass("dmNavItemSelected"),h.find(" \x3e a").addClass("currentPage"),d.data("cachedElement",h.find(" \x3e a"))):(h=d.find("a.currentPage").eq(0),!f||h.html()==f.html()&&2!=f.closest("ul").find(".dmNavItemSelected").length?(d.find("li").removeClass("dmNavItemSelected"),d.find("a").removeClass("currentPage dmNavItemSelected"),f=window.location.pathname,f=d.find('a[raw_url\x3d"'+
decodeURI(f)+'"], a[href\x3d"'+decodeURI(f)+'"]'),d&&d.hasClass("unifiednav__container")?(f.addClass("dmNavItemSelected"),f.parents(".unifiednav__item-wrap").each(function(c){a(this).children("a").addClass("dmNavItemSelected")})):(f.addClass("currentPage"),f.closest("li").addClass("dmNavItemSelected"))):(d.find("li").removeClass("dmNavItemSelected"),d.find("a").removeClass("currentPage dmNavItemSelected"),f.addClass("currentPage"),d.hasClass("unifiednav__container")?(f.addClass("dmNavItemSelected"),
f.parents(".unifiednav__item-wrap").each(function(c){a(this).children("a").addClass("dmNavItemSelected")})):f.closest("li").addClass("dmNavItemSelected"),d.data("cachedElement",f)));a.layoutManager.finalizeMenu()}d.find(".dmNavKeepSelected").removeClass("dmNavKeepSelected")});a.layoutManager.markedSelected=!0}};f.finalizeMenu=function(){0<a(".dmNavigation .dmNavItemSelected").not(".dmHideFromNav").length&&a(".dmNavigationWithLink .slideDownTrigger, .dmNavigationWithLink .slideUpTrigger").addClass("dmNavItemSelected");
0<a(".desktopTopNavMoreBtn .dmNavItemSelected").length&&a("#upperFloatingNav .desktopTopNavMoreBtn").addClass("dmNavItemSelected");0<a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").length&&a("#upperFloatingNav .dmNavItemSelected.dmSub, .dmLinksMenu .dmNavItemSelected.dmSub").parents("li").last().addClass("dmNavItemSelected");0<a(".dmUDNavigationItem_dmMore").length&&a(".dmNavItemSelected").closest(".dmUDNavigationItem_dmMore").each(function(){this.classList.contains("unifiednav__item-wrap")?
this.querySelector(".unifiednav__item").classList.add("dmNavItemSelected"):this.classList.add("dmNavItemSelected")})};f.onAjaxLinkClick=function(c){var d=c.attr("href")&&"#"!==c.attr("href");d&&(a.layoutManager.closeAllOpenedNavs(void 0,!0),window.layoutApp&&window.layoutApp.closeNavMenus());d||(a(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer dmNavItemSelected"),c.is(".dmNavWrapper *")&&(c.closest("li").addClass("dmNavItemSelected"),c.addClass("currentPage")))};
f.layoutAfterAjax=function(c){a.layoutManager.markCurrentSelectedNavigation()};f.initNavigation=function(){var c=!1,d=null,f=null,l=a.DM.isTouchDevice&&!a.DM.isIOS()?"touchend.menu":"click.menu";a("#slideDownNav a, #slideUpNav a").off("touchstart.menu").on("touchstart.menu",function(a){c=!1;d=a.originalEvent.targetTouches[0].pageX;f=a.originalEvent.targetTouches[0].pageY}).off("touchmove.menu").on("touchmove.menu",function(a){if(10<Math.abs(a.originalEvent.targetTouches[0].pageY-f)||Math.abs(a.originalEvent.targetTouches[0].pageX-
d))c=!0}).filter(function(){return!h(a(this))}).off(l).on(l,function(d){if(window.editorParent&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmx.isTouchDevice)return!1;var f=a(this),l=f.is(Parameters.LinksToAjax),k=!1,e=f.attr("href");if(!c)return f.parent().hasClass("hasdmSub")?(h(f),f.attr("href")&&""!=f.attr("href")&&"#"!=f.attr("href"))?h(f)||(a.layoutManager.isNee()&&(a.DM.isAjaxLink(f)&&window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.showLoadingInEmulator(),
window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.previewNavigateTo({url:f.attr("href"),navigateWithAjax:!0,el:f,e:d})),k=!0):(d.preventDefault(),"0"==f.parent().next(".dmSub").css("opacity")||"none"===f.parent().next(".dmSub").css("display")?a.layoutManager.showSpecificSubs(f.parent()):"1"==f.parent().next(".dmSub").css("opacity")&&a.layoutManager.hideSpacificSubs(f.parent())):(a.layoutManager.isNee()&&(d.preventDefault(),window.editorParent.$&&window.editorParent.$.dmfw&&
(a.DM.isAjaxLink(f)&&window.editorParent.$.dmfw.showLoadingInEmulator(),h(this)||window.editorParent.$.dmfw.previewNavigateTo({url:f.attr("href"),navigateWithAjax:!0,el:f,e:d}))),Parameters.AllowAjax&&(a(".navItemSelectedServer").removeClass("navItemSelectedServer"),f.parent().addClass("dmNavItemSelected"),f.addClass("currentPage")),k=!0),(l=l&&!(null!=e&&e.startsWith("#")&&1<e.length)&&a.DM.isPermittedOnClickValue(f.attr("onClick"))&&!a.DM.isLinkException(e)&&"_blank"!==f.attr("target"))&&k?a.DM.ajaxNavigateToLink(e,
this,d):k});a.layoutManager.handleEmptyNavigation()};f.handleEmptyNavigation=function(){var c=a(".dmNavWrapper").eq(0),d=a("div.dmNavTriggerButton");d=a().add(c).add(d);0<c.length&&(c=c.children().filter(function(){var c=a(this),d=!c.is(".dmHideFromNav, .dmDisplay_None, .dmNavTriggerButton, .slideDownTrigger");d&&a.layoutDevice&&a.layoutDevice.type&&(d=d&&!c.is(".dmHideFromNav-"+a.layoutDevice.type));return d}),d.toggleClass("dmDisplay_None",0===c.length),c=1>=c.length,a("body").toggleClass("dm-single-page-nav",
c),c||a(".dm-single-page-nav").removeClass("dm-single-page-nav"))};f.showSpecificSubs=function(c){a.layoutManager.hideAllSubItems();c.find(".navItemArrowBg").addClass("pointDown");var d=0,f=c,h=c.index();if(c.is(".dmSub")){for(var m=c;m.is(".dmSub");)m=m.prev();h=m.index();f=m}a(".dmNavigation li:gt("+Math.max(h-1,0)+")").each(function(){a(this).is(f)||(0==d&&a(this).is(".dmSub")&&!a(this).is(".dmSub2")?(a(this).removeClass("dmDisplay_None").css({opacity:"0"}),a(this).css({transform:"translate3d(0px, 0px, 0px)",
opacity:"1"}),a(this).index()==c.index()&&(d=1)):1==d&&a(this).is(".dmSub")?(a(this).removeClass("dmDisplay_None").css("opacity","0"),a(this).css({transform:"translate3d(0px, 0px, 0px)",opacity:"1"}),a(this).is(".dmSub2")||(d=0)):a(this).is(".dmSub2")||(d=2))});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),a.layoutDevice.components.slideDownNav.element.find("li").eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():
a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};f.hideSpacificSubs=function(c){c.find(".navItemArrowBg").removeClass("pointDown");c.index();var d=c.is(".dmSub")?"dmSub2":"dmSub";c.nextUntil(":not(."+d+")").each(function(){1==a(this).css("opacity")&&(a(this).css({transform:"translate3d(0px,0px, 0px)"}),a(this).css("opacity","0"),a(this).addClass("dmDisplay_None"))});a.layoutDevice.components.slideDownNav?(a.layoutDevice.components.slideDownNav.refresh(),
a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1==a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder")):a.layoutDevice.components.slideUpNav?a.layoutDevice.components.slideUpNav.refresh():a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.refresh()};f.initHomeLinkAnchor=function(){a.layoutManager._is_touch_device?a("#dm-logo-anchor").unbind("touchstart.t").bind("touchstart.t",function(c){a.layoutManager.closeAllOpenedNavs()}):
a("#dm-logo-anchor").unbind("click.menu").bind("click.menu",function(c){a.layoutManager.closeAllOpenedNavs()})};f.closeAllOpenedNavs=function(c,d){function f(){a.layoutManager._closeAllOpenedNavs();c&&c()}var h=a.layoutManager.isIOS()?300:0;d&&0<h?setTimeout(f,h):f()};f._closeAllOpenedNavs=function(){window.editorParent&&window.editorParent.$&&window.editorParent.$.dmx&&window.editorParent.$.dmx.preventNavClose||(a.layoutDevice.components.slideDownNav&&a.layoutDevice.components.slideDownNav.slideDownNavHandlerImpl(!1,
!0),a.layoutDevice.components.slideUpNav&&a.layoutDevice.components.slideUpNav.slideUpNavHandlerImpl(!1,!0),a.layoutDevice.components.slideRightNav&&a.layoutDevice.components.slideRightNav.toggleMenu("close"),a.layoutDevice.components.upperFloatingNav&&a.layoutDevice.components.upperFloatingNav.hideSubnav(),a.layoutDevice.components.popupNav&&a.layoutDevice.components.popupNav.hidePopupNav())};f.initInnerPageTitle=function(c){if(c&&a.layoutDevice.components.innerBar){var d=a.layoutDevice.components.innerBar.element.find(".innerPageTitle"),
f=a.layoutDevice.components.innerBar.element.find("#dmBackBtn"),h=a.layoutDevice.components.innerBar.element.find("#pageTitleText");0==d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e"),0<h.length?h.append(d):0<f.length?d.insertAfter(f):a.layoutDevice.components.innerBar.element.append(d),d.addClass("innerPageTitle"));d.text(c.page_title)}a.layoutDevice.initInnerPageTitle&&a.layoutDevice.initInnerPageTitle(c)};f.setSelected=function(a,d){a.toggleClass("dmNavItemSelected",d);return a};f.isPortrait=function(){return window.innerHeight>
window.innerWidth?!0:!1};f.updateContainerMinimumHeight=function(){var c=a(".dmRespRowsWrapper"),d=window.innerHeight,f=a(".dmFooterContainer");0<f.length&&(d-=f.outerHeight());var h=a("#mobileFooter");0<h.length&&(d-=h.outerHeight());h=a("#desktopHeaderBox");0<h.length?d-=h.outerHeight():(h=a(".dmHeader"),0<h.length&&(d-=h.outerHeight()));h=a("#popupNavHeaderBox");0<h.length&&(d-=h.outerHeight());Modernizr.cssvhunit||(c.css("min-height",d+"px"),a(".dmInner").css("minHeight",window.innerHeight+"px"));
0<f.length&&requestAnimationFrame(function(){"none"!==window.getComputedStyle(f[0]).display&&(d+=window.innerHeight-f[0].getBoundingClientRect().bottom);c.css("min-height",d+"px")});c.removeClass("dmRespRowsWrapperSize6","dmRespRowsWrapperSize5","dmRespRowsWrapperSize4","dmRespRowsWrapperSize3","dmRespRowsWrapperSize2","dmRespRowsWrapperSize1");950<d?c.addClass("dmRespRowsWrapperSize6"):890<d?c.addClass("dmRespRowsWrapperSize5"):800<d?c.addClass("dmRespRowsWrapperSize4"):700<d?c.addClass("dmRespRowsWrapperSize3"):
620<d?c.addClass("dmRespRowsWrapperSize2"):c.addClass("dmRespRowsWrapperSize1")};f.isIOS=function(){return/(iPhone|iPad|iPod)/.test(navigator.userAgent)};f.isAndroidDefaultBrowser=function(){return-1<navigator.userAgent.indexOf("Mozilla/5.0")&&-1<nua.indexOf("Android ")&&-1<nua.indexOf("AppleWebKit")&&!(-1<nua.indexOf("Chrome"))}})(jQuery);var layoutDeviceComponentInterface={onReadyGlobal:function(a){},onReadyEditorMode:function(a){},onReadyPreviewMode:function(a){},onLoadGlobal:function(a){},onLoadEditorMode:function(a){},onLoadPreviewMode:function(a){},afterAjaxCommand:function(a){},onAjaxLinkClick:function(a,h){},onAjaxLinkBeforeClick:function(a,h){return!0}};var layoutDeviceInterface={type:"",components:{},onReady:function(a,h){},onLoad:function(a,h){},getTopFixedElementsOffset:function(){return 0},getBottomFixedElementsOffset:function(){return 0},initInnerBar:function(){},onAjaxLinkClick:function(a,h){}};(function(a){function h(){return a.layoutManager._isEditorMode&&parent.window.$.dmfw}function p(){this.element=null}function m(){this.element=a("#upperFloatingNav")}function r(){this.element=a(".dmLinksMenu \x3e ul")}function f(){this.slideTrigger=this.iscrollObject=this.element=null;this.slideDownNavHandlerImpl=function(e,c,d){function f(){b.hide();h.element.css("visibility","visible");b.off("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd")}var h=this;var b=
a(document.getElementById("slideDownNav"));if("undefined"==typeof e||null===e)e=!0;c||(c=!1);d||(d=!1);this.element.stop();this.element.unbind("webkitTransitionEnd").off("transitionend").off("oTransitionEnd").off("msTransitionEnd");this.element.css("display","block");e?a("#slideDownNav").css({"-webkit-transition-duration":".5s","-moz-transition-duration":".5s","-o-transition-duration":".5s","-ms-transition-duration":".5s"}):(a("#slideDownNav").css({"-webkit-transition-duration":"0s","-moz-transition-duration":"0s",
"-o-transition-duration":"0s","-ms-transition-duration":"0s"}),h.element.css("visibility","visible"));var g=a("#dmRoot");if(0<b.length&&b.hasClass("dmSlideNavClose")&&!c||d)b.scrollTop(0),b.removeClass("dmSlideNavClose").removeClass("menuClosed"),b.addClass("dmSlideNavOpen"),a.layoutManager.isNee()&&a(document.querySelectorAll(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext")).addClass("inlineEditorBarsLowZindex"),b.show(),d=this.element.parent(),
d.is(".fixedPart")&&"fixed"===d.css("position")?(this.element.css("overflow","auto"),g.css("overflow","hidden"),g.css("position","fixed")):this.element.css("overflow","visible"),a.layoutManager.hideAllSubItems(),a.layoutManager.setSelected(a(".slideDownTrigger"),!0).siblings("li").removeClass("dmNavItemSelected"),a.layoutManager.openAppropriateSub(),a.layoutDevice.components.slideDownNav.element.find("li").filter(function(){return 1===a(this).css("opacity")}).eq(-1).addClass("liRemoveBorder"),b.css({transform:"translate3d(0px, 0px, 0px)"}),
a.DM.handleExpandingNav({context:this,isOpen:!0});else if(b.hasClass("dmSlideNavOpen")&&!d||c){b.addClass("dmSlideNavClose").addClass("menuClosed");b.removeClass("dmSlideNavOpen");a.layoutManager.isNee()&&a(".inlineEditorNewSelectionBarsLocked, .inlineEditorNewSelectionBarsSelected, .inlineEditorNewContext").removeClass("inlineEditorBarsLowZindex");d=this.element.parent();d.is(".fixedPart")&&"fixed"===d.css("position")&&(g.css("overflow","auto"),g.css("position","static"));if(e)this.element.off("transitionend").on("transitionend",
f);a.layoutManager.setSelected(a(".slideDownTrigger"),!1);e?(e=this.element.find("ul").outerHeight(!0),b.css({transform:"translate3d(0px, "+-e+"px, 0px)"})):b.hide();e=a("#iscrollBody");e.length&&e.css("height","auto");a.layoutManager.hideAllSubItems();this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length&&(e=this.slideTrigger.find(".navItemArrowBg"),e.addClass("pointDown"));c?a.layoutManager.markCurrentSelectedNavigation(!1):a.layoutManager.markCurrentSelectedNavigation(!0);a.DM.handleExpandingNav({context:this})}};
this.initSlideDownTrigger=function(){var e=this;if(this.slideTrigger&&0<this.slideTrigger.find(".navItemArrowBg").length){var c=e.slideTrigger.find(".navItemArrowBg");c.addClass("pointDown")}a.layoutManager._is_touch_device&&this.slideTrigger?this.slideTrigger.unbind("touchstart.t").bind("touchstart.t",function(a){e.slideDownNavHandlerImpl(null,null,null);a.preventDefault();a.stopPropagation()}):this.slideTrigger&&this.slideTrigger.unbind("click.c").bind("click.c",function(a){e.slideDownNavHandlerImpl(null,
null,null);a.preventDefault();a.stopPropagation()})}}function c(){this.iscrollObject=this.element=null;this.isUseIscroll=!1;this.isBodyScrollable=!0;this.afterAjaxCommand=null}function d(){this.startY=this.slideNavigationObject=this.scrollObject=this.element=null;this.scrolled=!1}function k(a,c){a=new Snap(a);c&&t.call(this,c,a);return a}function l(a,c){window.isMobileDevice&&(a=new window.CustomEvent("old-drawer-toggled",{detail:{open:a},bubbles:!1,cancelable:!0}),c.get(0).dispatchEvent(a))}function t(e,
c){var d=this;a(e).off("click.nav-snap").on("click.nav-snap",function(){d.toggleMenu()})}function n(){}function x(a){document.body.scrollTop=0}p.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);p.prototype.onReadyPreviewMode=function(){this.element=a("#innerBar");a.layoutDevice.initInnerBar()};p.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};p.prototype.onLoadPreviewMode=function(){};p.prototype.onLoadEditorMode=function(){};p.prototype.afterAjaxCommand=function(e){a.layoutDevice.initInnerBar(e)};
m.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);m.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};m.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};m.prototype.onLoadEditorMode=function(a){};m.prototype.onLoadPreviewMode=function(a){};m.prototype.hideSubnav=function(){"tablet"===a.layoutDevice.type&&a("ul#upperFloatingNavigation \x3e li \x3e ul").stop(!0).fadeOut()};m.prototype.onReadyGlobal=function(){a("#upperFloatingNavigation").find("a").off("click.menu").on("click.menu",
function(e){window.editorParent.$&&window.editorParent.$.dmfw&&a.layoutManager.isNee()&&!window.editorParent.$.dmpages.isExternalLink(a(this).attr("href"))&&(e.stopPropagation(),e.preventDefault(),h()||window.editorParent.$.dmfw.previewNavigateTo({url:a(this).attr("href"),navigateWithAjax:!0,el:a(this),e:e}))});if("tablet"===a.layoutDevice.type){var e=a("ul#upperFloatingNavigation");a.commonComponents.upperFloatingNav.hideSubnav();e.off("touchend.subnav click.subnav","\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav",
"\x3eli.hasdmSub:not(:has(\x3ea)), \x3eli.desktopTopNavMoreBtn",function(){var e=a(this).find("\x3eul");e.is(":not(:visible)")&&(a.commonComponents.upperFloatingNav.hideSubnav(),e.fadeIn().delay(1E4).fadeOut())}).off("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){var e=a(this).find("\x3eul");e.is(":not(:visible)")&&e.fadeIn()}).off("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",
function(){a.commonComponents.upperFloatingNav.hideSubnav()})}};m.prototype.onAjaxLinkBeforeClick=function(e){if(e.is("#upperFloatingNavigation li *")&&"tablet"===a.layoutDevice.type&&e.parent().is(".desktopTopNav.hasdmSub"))if(e=e.parent().find("\x3eul"),e.is(":visible"))e.delay(1E3).fadeOut();else return this.hideSubnav(),e.fadeIn().delay(1E4).fadeOut(),!1;return!0};m.prototype.onAjaxLinkClick=function(e){e.is("#upperFloatingNavigation li *")&&(a("#upperFloatingNavigation").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),
e.closest("li").addClass("dmNavItemSelected"))};r.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);r.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};r.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};r.prototype.onLoadEditorMode=function(a){};r.prototype.onLoadPreviewMode=function(a){};r.prototype.hideSubnav=function(){};r.prototype.onReadyGlobal=function(){"tablet"===a.layoutDevice.type&&(a(".dmLinksMenu \x3e ul"),a.commonComponents.extensionMenuNav.hideSubnav(),
a("#site_content").off("touchend.subnav click.subnav",".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn").on("touchend.subnav click.subnav",".dmLinksMenu \x3e ul \x3eli.hasdmSub:not(:has(\x3ea)), .dmLinksMenu \x3e ul \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&(a.commonComponents.extensionMenuNav.hideSubnav(),b.fadeIn().delay(1E4).fadeOut())}).off("mouseenter","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseenter",
"\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){var b=a(this).find("\x3eul");b.is(":not(:visible)")&&b.fadeIn()}).off("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn").on("mouseleave","\x3eli.hasdmSub, \x3eli.desktopTopNavMoreBtn",function(){a.commonComponents.extensionMenuNav.hideSubnav()}));var e=a(".dmLinksMenu .innerUl");if(e.length)for(var c=0;c<e.length;c++){var d=e.eq(c),f=d.outerHeight(),h=d.parents("ul").offset().top+d.parents("ul").outerHeight()+10,b=a("#dm").height();
f+h>b&&(f=d.parent().offset().top,f>b-f?d.addClass("openAbove"):d.height(b-f).css("overflowY","scroll"))}};r.prototype.onAjaxLinkBeforeClick=function(e){if(e.is(".dmLinksMenu \x3e ul li *")&&"tablet"===a.layoutDevice.type&&e.parent().is(".desktopTopNav.hasdmSub"))if(e=e.parent().find("\x3eul"),e.is(":visible"))e.delay(1E3).fadeOut();else return this.hideSubnav(),e.fadeIn().delay(1E4).fadeOut(),!1;return!0};r.prototype.onAjaxLinkClick=function(e){if(e.is(".dmLinksMenu \x3e ul li *")||e.is(".middleLogoLink"))a(".dmLinksMenu \x3e ul").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),
e.closest(".unifiednav").length?e.addClass("dmNavItemSelected"):e.closest("li").addClass("dmNavItemSelected")};r.prototype.selector=".dmLinksMenu \x3e ul";f.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);f.prototype.initIscroll=function(){var e=a(document.getElementById("slideDownNav"));var c=a("#iscrollBody");null!==this.iscrollObject&&(this.iscrollObject.destroy(),this.iscrollObject=null);var d=a.layoutDevice.getTopFixedElementsOffset();0<d?(e.height(a.DM.getPageHeight()-d-10),e=
window.innerHeight-d,window.innerHeight<a(window).height()&&(e=a(window).height()-d),a("#iscrollBody").css({height:e,overflowY:"auto"}),this.iscrollObject=new iScroll("slideDownNav",{onScrollStart:function(){c=a("#iscrollBody");var e=a(window).height()-c.offset().top;var d=a("body").scrollTop();c.attr("data-top",d).addClass("noScroll").css({height:e,transform:"translate(0, -"+d+"px)"})},onScrollEnd:function(){var e=a("#iscrollBody");var c=e.attr("data-top");e.removeClass("noScroll").css({height:"auto",
transform:"translate(0, 0)"});a("body").scrollTop(c)},bounce:!1})):e.hasClass("dmSlideNavOpen")&&e.offset().top+e.find("ul").height()>c.height()&&(d=e.offset().top+e.find("ul").height(),c.height(d))};f.prototype.initLoadGlobal=function(){this.initSlideDownTrigger()};f.prototype.onLoadEditorMode=function(){this.initIscroll();this.initLoadGlobal()};f.prototype.onLoadPreviewMode=function(){this.initIscroll();this.initLoadGlobal()};f.prototype.onReadyPreviewMode=function(){this.element=a("#slideDownNav").addClass("dmNavTriggerButton");
this.slideTrigger=a(".slideDownTrigger");var e=0;this.element.addClass("dmSlideNavClose").addClass("menuClosed");a.DM.isBodyScrollable()&&(a.layoutManager._is_touch_device&&this.element.find(".dmNavigation").unbind("touchstart").bind("touchstart",function(){e=event.touches[0].pageY;document.getElementById("slideDownNav")}),this.element.find(".dmNavigation").unbind("mousewheel DOMMouseScroll touchmove").bind("mousewheel DOMMouseScroll touchmove",function(c){if(!(0<a(this).parents(".fixedPart").length&&
"fixed"===a(this).parents(".fixedPart").css("position")))if(c.preventDefault(),a.layoutManager._is_touch_device)c=e-event.touches[0].pageY,a("html, body").scrollTop(document.body.scrollTop+c);else{var d=document.body.scrollTop;c=event.wheelDelta||-event.detail;d=0<c?d-40:d+40;a("html, body").scrollTop(d)}}));0===a("#innerBar:visible").length&&10!==a.layoutManager.getCurrentLayout()&&1!==a.layoutManager.getCurrentLayout()&&this.element.find(".dmNavWrapper").removeClass("dmNavWrapper");this.initSlideDownTrigger()};
f.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};f.prototype.refresh=function(){this.initIscroll()};c.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);d.prototype=jQuery.extend(!0,{},layoutDeviceComponentInterface);d.prototype.onReadyEditorMode=function(){this.onReadyGlobal()};d.prototype.onReadyPreviewMode=function(){this.onReadyGlobal()};d.prototype.onLoadEditorMode=function(a){this.onLoadGlobal(a);this.initIscroll()};d.prototype.onLoadPreviewMode=function(a){this.onLoadGlobal(a);
this.initIscroll()};d.prototype.onReadyGlobal=function(){var c=this;a("#leftSidebar").find("a").off("click.menu").on("click.menu",function(e){var d=a(document.getElementById("leftSidebar")),f=a(this).attr("href");f&&0===f.indexOf("http://")||(h()||c.slideNavigationObject.close(),d.find(".navItemSelectedServer").removeClass("navItemSelectedServer"),d.find(".dmNavItemSelected").removeClass("dmNavItemSelected"),a(this).closest("li").addClass("dmNavItemSelected"),a(this).addClass("currentPage"),h()||
a.layoutManager.isNee()&&window.editorParent.$&&window.editorParent.$.dmfw&&window.editorParent.$.dmfw.previewNavigateTo({url:a(this).attr("href"),navigateWithAjax:!0,el:a(this),e:e}))})};d.prototype.initIscroll=function(){var c=this;a("body").css({transform:"all .3 ease","-webkit-transform":"all .3 ease"});a.DM.loadExternalScriptAsync(window.rtCommonProps["common.resources.cdn.host"]+"/_dm/s/rt/scripts/vendor/snap/snap.min.js",function(){window.addEventListener("hashchange",x);a.layoutManager.getLayoutElement().iscrollBody.element=
a("#iscrollBody");a.layoutManager.getLayoutElement().iscrollBody.isBodyScrollable=!1;var e=function(c){var b=a("body").scrollTop(),e=a.layoutDevice.getTopFixedElementsOffset();a("body").css({width:"100%",height:"100%"});var d=window.innerHeight-e;window.innerHeight<a(window).height()&&(d=a(window).height()-e);a("#iscrollBody").css({"-webkit-overflow-scrolling":"touch",height:d});b&&c&&a("#iscrollBody").scrollTop(b-e);a.DM.events.trigger("iscrollBodyResized")},d="tablet"===a.layoutDevice.type?240:
190,f={element:document.getElementById("dmSlideRightNavRight"),disable:"right",maxPosition:d,minPosition:-1*d};h()&&(a("#site_content").attr("data-snap-ignore","true"),a("#dmSlideRightNavRight").attr("data-snap-ignore","true"));d=a("#toggleMenuTrigger");c.slideNavigationObject?f.element.addEventListener("transitionend",function(){c.slideNavigationObject=k.call(c,f)}):c.slideNavigationObject=k.call(c,f,d);e(!0);a(window).resize(e)})};d.prototype.onLoadGlobal=function(a){};d.prototype.onAjaxLinkClick=
function(c){c.is("#leftSidebar li *")&&(a("#leftSidebar").find(".navItemSelectedServer, .dmNavItemSelected").removeClass("navItemSelectedServer").removeClass("dmNavItemSelected"),c.closest("li").addClass("dmNavItemSelected"));this.toggleMenu("close");a("#dmSlideRightNavRight").animate({scrollTop:0},"fast")};d.prototype.afterAjaxCommand=function(a){};d.prototype.onAjaxLinkBeforeClick=function(){return!this.scrolled};d.prototype.onAjaxLinkTouchStart=function(a,c){this.startY=c.pageY;this.scrolled=!1};
d.prototype.onAjaxLinkTouchMove=function(a,c){20<Math.abs(c.pageY-this.startY)&&(this.scrolled=!0)};d.prototype.toggleMenu=function(a){this.slideNavigationObject&&(a&&"close"==a?this.closeMenu():a&&"open"==a?this.openMenu():"closed"===this.slideNavigationObject.state().state?this.openMenu():this.closeMenu())};d.prototype.closeMenu=function(){this.slideNavigationObject.close();requestAnimationFrame(function(){requestAnimationFrame(function(){l(!1,a("#toggleMenuTrigger"))})})};d.prototype.openMenu=
function(){this.slideNavigationObject.open("left");requestAnimationFrame(function(){requestAnimationFrame(function(){l(!0,a("#toggleMenuTrigger"))})})};d.prototype.refresh=function(){this.initIscroll()};n.prototype.onReadyEditorMode=function(){this.onReadyPreviewMode()};n.prototype.onReadyPreviewMode=function(){var c;a(document.getElementById("slideDownTrigger")).off("click.openPopupNav").on("click.openPopupNav",n.prototype.openPopupNav);(c=document.body)&&a(c).toggleClass("menuClosed")};n.prototype.onLoadEditorMode=
function(){};n.prototype.hidePopupNav=function(){setTimeout(function(){var c;if(c=document.body)a(c).removeClass("popupNavActive"),a(c).removeClass("menuClosed")},0)};n.prototype.onLoadPreviewMode=function(){};n.prototype.openPopupNav=function(){var c;if(c=document.body)a(c).toggleClass("popupNavActive"),a(c).toggleClass("menuClosed")};var u={iscrollBody:new c,innerBar:new p,slideDownNav:new f,slideRightNav:new d,upperFloatingNav:new m,extensionMenuNav:new r,popupNav:new n};a.extend({commonComponents:u})})(jQuery);(function(a){function h(){Parameters.AfterAjaxCommand=function(h){for(var m in a.layoutDevice.components)a.layoutDevice.components[m]&&a.layoutDevice.components[m].afterAjaxCommand&&a.layoutDevice.components[m].afterAjaxCommand(h);a.layoutManager.updateContainerMinimumHeight();a.layoutDevice.addParallaxBehavior()}}a.extend({layoutDevice:a.extend(!0,{},layoutDeviceInterface)});a.extend(a.layoutDevice,{type:"desktop",components:{},onReady:function(p,m){a("body").addClass("dmDesktopBody").addClass("dmLargeBody");
if(p){h();for(var r in a.layoutDevice.components)if(a.layoutDevice.components[r])a.layoutDevice.components[r].onReadyEditorMode();a.layoutManager.markCurrentSelectedNavigation()}else{h();for(var f in a.layoutDevice.components)if(a.layoutDevice.components[f])a.layoutDevice.components[f].onReadyPreviewMode();a.layoutManager.markCurrentSelectedNavigation();a.layoutDevice.addParallaxBehavior()}},onLoad:function(h,m){if(h)for(var p in a.layoutDevice.components){if(a.layoutDevice.components[p])a.layoutDevice.components[p].onLoadEditorMode()}else for(var f in a.layoutDevice.components)if(a.layoutDevice.components[f])a.layoutDevice.components[f].onLoadPreviewMode();
a.layoutManager.updateContainerMinimumHeight()},getTopFixedElementsOffset:function(){return 0},getBottomFixedElementsOffset:function(){return 0},initInnerBar:function(h){a.DM.isCurrentHomePage()?a("#innerBar").addClass("dmDisplay_None"):a("#innerBar").removeClass("dmDisplay_None");a.layoutManager.initInnerPageTitle(h)},onAjaxLinkClick:function(h,m){for(var p in a.layoutDevice.components)if(a.layoutDevice.components[p]&&a.layoutDevice.components[p].onAjaxLinkClick)a.layoutDevice.components[p].onAjaxLinkClick(h,
m)},addParallaxBehavior:function(){if(!a.layoutManager._is_touch_device&&!a("body").hasClass("touchDevice")){var h=a("#dm").find("[data-background-parallax-selector],.dmSectionParallaxNew");var m=!a.browser.msie||8<=a.browser.version||8<=document.documentMode;0<h.length&&m&&(h=h.data(),h=h.backgroundParallaxSelector+",.dmSectionParallaxNew",a(h).filter(":not(.dmSectionNoParallax)").makeParallax(.1));if(navigator.userAgent.match(/Trident\/7\./))a("body").on("mousewheel",function(){event.preventDefault();
window.scrollTo(0,window.pageYOffset-event.wheelDelta)})}},setParallax:function(a,h){h?a.makeParallax(.1):a.makeNoParallax(.1)}})})(jQuery);